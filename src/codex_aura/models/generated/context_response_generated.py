# generated by datamodel-codegen:
#   filename:  context-response.schema.json
#   timestamp: 2025-12-05T13:12:04+00:00

from __future__ import annotations

from enum import Enum
from typing import List, Optional

from pydantic import BaseModel, Field, confloat, conint


class Type(Enum):
    file = 'file'
    class_ = 'class'
    function = 'function'


class ContextNode(BaseModel):
    id: str = Field(..., description='Unique identifier of the node')
    type: Type = Field(..., description='Type of the node')
    path: str = Field(..., description='Relative path to the file containing this node')
    code: Optional[str] = Field(
        None, description='Source code content (if include_code was true in request)'
    )
    relevance: confloat(ge=0.0, le=1.0) = Field(
        ..., description='Relevance score based on distance from entry points'
    )


class ContextResponse(BaseModel):
    context_nodes: List[ContextNode] = Field(
        ..., description='List of context nodes with relevance scores'
    )
    total_nodes: conint(ge=0) = Field(
        ..., description='Total number of nodes found in the context'
    )
    truncated: bool = Field(
        ..., description='Whether the results were truncated due to max_nodes limit'
    )
