# ADR-003: Edge type система

## Статус
Принято

## Контекст
Граф зависимостей должен отражать различные типы связей между компонентами кода. Требования:

- Различные типы зависимостей (imports, calls, inheritance)
- Расширяемость для новых типов
- Стандартизация типов связей
- Поддержка фильтрации по типам

## Рассмотренные варианты

### 1. String-based типы
- **Плюсы**: Простота, гибкость
- **Минусы**: Нет валидации, опечатки, неструктурированность

### 2. Enum-based типы
- **Плюсы**: Type safety, автодополнение, валидация
- **Минусы**: Менее гибкий, сложнее добавлять новые типы

### 3. Class hierarchy
- **Плюсы**: Полиморфизм, расширяемость
- **Минусы**: Сложность, overhead

### 4. Tagged union
- **Плюсы**: Type safety + гибкость
- **Минусы**: Сложность реализации

## Решение
Enum-based система с возможностью расширения.

## Обоснование
- **EdgeType enum**: IMPORTS, CALLS, EXTENDS, IMPLEMENTS, etc.
- **Metadata**: Дополнительная информация для каждого типа связи
- **Filtering**: API поддержка фильтрации по типам
- **Versioning**: Новые типы добавляются в новые версии

## Последствия
- Определить EdgeType enum в models
- Добавить metadata поле для дополнительных атрибутов
- Обновить JSON schema для поддержки новых типов
- Документировать все поддерживаемые типы связей